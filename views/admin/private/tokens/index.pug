include ../../../mixins.pug
doctype html
html(lang="en")
	head
		+header()
		//- +headerlink('https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-alpha1/dist/css/bootstrap.min.css', 'stylesheet', 'text/css')
		//- script(src='https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-alpha1/dist/js/bootstrap.min.js')
	body
		+adminNav()
		main(id="content")
			div(class="flex flex-col")
				h1.mt-4.py-10.text-3xl.text-center Tokens
				div(class="m-5 overflow-x-auto")
					div(class="p-1.5 min-w-full inline-block align-middle")
						div(class="border rounded-lg shadow overflow-hidden dark:border-neutral-700 dark:shadow-gray-900")
							table(class="w-full divide-y divide-gray-200 dark:divide-neutral-700")
								thead(class="bg-gray-50 dark:bg-neutral-700")
									tr(class="dark:bg-neutral-700 gap-4")
										th(scope="col" class="min-w-20 px-6 py-3 text-start text-xs font-medium text-gray-500 uppercase dark:text-neutral-400") Name
										th(scope="col" class="min-w-20 px-6 py-3 text-start text-xs font-medium text-gray-500 uppercase dark:text-neutral-400") Token
										th(scope="col" class="min-w-20 px-6 py-3 text-start text-xs font-medium text-gray-500 uppercase dark:text-neutral-400") Status
										th(scope="col" class="min-w-20 px-6 py-3 text-start text-xs font-medium text-gray-500 uppercase dark:text-neutral-400") Block Status
										th(scope="col" class="min-w-20 px-6 py-3 text-end text-xs font-medium text-gray-500 uppercase dark:text-neutral-400")
										th(scope="col" class="min-w-20 px-6 py-3 text-end text-xs font-medium text-gray-500 uppercase dark:text-neutral-400")
								tbody(class="divide-y divide-gray-200 dark:divide-neutral-700")
									each token in tokens
										tr(id= token.id class="dark:bg-neutral-700")
											td(class="m-4 min-w-20 px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-800 dark:text-neutral-200")= token.user.name.display
											td(class="m-4 min-w-20 px-6 py-4 whitespace-nowrap text-sm text-gray-800 dark:text-neutral-200")= token.token
											td(class="m-4 min-w-20 px-6 py-4 whitespace-nowrap text-sm")
												unless token.disabled
													p.e-text(class="inline-flex items-center gap-x-1.5 py-1.5 px-3 rounded-full font-medium bg-teal-100 text-teal-800 dark:bg-teal-800/30 dark:text-teal-500") Enabled
												else
													p.e-text(class="inline-flex items-center gap-x-1.5 py-1.5 px-3 rounded-full font-medium bg-red-100 text-red-800 dark:bg-red-800/30 dark:text-red-500") Disabled
											td(class="m-4 min-w-20 px-6 py-4 whitespace-nowrap text-sm")
												unless token.blocked
													p.b-text(class="inline-flex items-center gap-x-1.5 py-1.5 px-3 rounded-full font-medium bg-teal-100 text-teal-800 dark:bg-teal-800/30 dark:text-teal-500") Unblocked
												else
													p.b-text(class="inline-flex items-center gap-x-1.5 py-1.5 px-3 rounded-full font-medium bg-red-100 text-red-800 dark:bg-red-800/30 dark:text-red-500") Blocked
											td(class="m-4 min-w-20 px-6 py-4 whitespace-nowrap text-end text-sm font-medium")
												button.disable(type="button" class="inline-flex items-center gap-x-2 text-sm font-semibold rounded-lg border border-transparent text-blue-600 hover:text-blue-800 disabled:opacity-50 disabled:pointer-events-none dark:text-blue-500 dark:hover:text-blue-400")
													if token.disabled
														| Enable
													else
														| Disable
											td(class="m-4 min-w-20 px-6 py-4 whitespace-nowrap text-end text-sm font-medium")
												button.delete(type="button" class="inline-flex items-center gap-x-2 text-sm font-semibold rounded-lg border border-transparent text-blue-600 hover:text-blue-800 disabled:opacity-50 disabled:pointer-events-none dark:text-blue-500 dark:hover:text-blue-400") Delete
		script
			include ./token.js